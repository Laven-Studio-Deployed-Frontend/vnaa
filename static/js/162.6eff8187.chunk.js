"use strict";(self.webpackChunkexam=self.webpackChunkexam||[]).push([[162],{4914:function(e,t,n){n.d(t,{C:function(){return o},T:function(){return a}});var r=n(9434),a=function(){return(0,r.I0)()},o=r.v9},118:function(e,t,n){n.d(t,{PV:function(){return r.PV},Pl:function(){return r.Pl},V4:function(){return r.V4},eU:function(){return r.eU},g4:function(){return r.g4},ie:function(){return r.ie},me:function(){return r.me},oh:function(){return r.oh},pf:function(){return r.pf}});var r=n(5594)},3162:function(e,t,n){n.r(t);var r=n(7166),a=n(3032),o=n(678),u=n(43),i=n(8631),s=n(2791),c=n(9768),l=n(7858),d=n(8680),p=n(4914),f=n(118),m=n(4758),x=n(8329),h=n(2481),v=n(184);t.default=function(){var e=(0,s.useState)(""),t=(0,o.Z)(e,2),n=t[0],g=t[1],b=(0,s.useState)(""),y=(0,o.Z)(b,2),j=y[0],w=y[1],k=(0,s.useState)(null),N=(0,o.Z)(k,2),Z=N[0],S=N[1],C=(0,s.useState)(!1),D=(0,o.Z)(C,2),P=D[0],T=D[1],I=(0,s.useState)(!1),A=(0,o.Z)(I,2),V=A[0],M=(A[1],(0,s.useState)(!1)),L=(0,o.Z)(M,2),O=L[0],E=L[1],F=(0,s.useState)(""),q=(0,o.Z)(F,2),z=q[0],B=q[1],U=(0,s.useState)(""),R=(0,o.Z)(U,2),J=R[0],K=R[1],Q=(0,s.useState)(!1),X=(0,o.Z)(Q,2),Y=X[0],$=X[1],G=(0,p.T)(),H=/((09|03|07|08|05)+([0-9]{8})\b)/g,W=new Date,_=W.getDate(),ee=W.getMonth()+1,te=W.getFullYear(),ne=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=2;break}return e.abrupt("return");case 2:if(P){e.next=5;break}return c.Am.error("Vui l\xf2ng \u0111\u1ed3ng \xfd v\u1edbi \u0111i\u1ec1u kho\u1ea3n d\u1ecbch v\u1ee5"),e.abrupt("return");case 5:if(z===J){e.next=8;break}return c.Am.error("M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp!"),e.abrupt("return");case 8:return e.prev=8,t=new i.lI(d.I8,"recaptcha-container",{size:"invisible"}),a="+84".concat(n.slice(1)),e.next=13,(0,i.$g)(d.I8,a,t);case 13:o=e.sent,S(o),E(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.confirm(j);case 3:return t=e.sent,a=(0,h.JU)(d.db,"users",t.user.uid),e.next=7,(0,h.QT)(a);case 7:if(e.sent.exists()){e.next=11;break}return e.next=11,(0,h.pl)(a,{uid:t.user.uid,myPhoneNumber:n,status:"new",role:"user",accountCreated:"".concat(_,"/").concat(ee,"/").concat(te),password:z});case 11:G((0,f.me)(t.user.uid)),x.Z.set("accessToken",t.user.accessToken,{expires:7}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"w-full h-screen relative object-cover ",children:[(0,v.jsx)("img",{className:"absolute top-0 left-0 bottom-0 right-0 object-cover h-full w-full bg-no-repeat bg-center",src:l.Z.imgBg,alt:"bg"}),(0,v.jsx)("div",{className:"absolute top-0 left-0 bottom-0 right-0 bg-[#fffffff3] z-10 opacity-90"}),(0,v.jsx)("div",{className:"absolute flex justify-center md:items-center md:h-full z-20 w-full",children:(0,v.jsx)("div",{className:"w-[87%] mt-[70px] md:mt-[0px] md:w-[450px]  md:top-[50%] md:border-[#04367b] md:rounded-[20px] md:left-[40%] md:border-[2px] md:py-[50px] md:px-[24px]",children:O?(0,v.jsx)(m.Z,{isLoading:V,value:j,onChange:w,handleVerifyOTP:re}):(0,v.jsx)("div",{children:(0,v.jsxs)("form",{className:"flex flex-col justify-center items-start ",onSubmit:function(e){e.preventDefault(),ne()},children:[(0,v.jsx)("img",{src:l.Z.Logo,className:"w-[6rem]",alt:"logo",style:{margin:"auto"}}),(0,v.jsx)("h1",{className:"font-bold",style:{fontSize:20},children:"Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\u1ec3 \u0111\u0103ng k\xfd"}),(0,v.jsx)("input",{className:"outline-none border p-3 my-3 rounded-md w-full  focus:border-sky-500",type:"text",name:"phoneNumber",value:n,onChange:function(e){g(e.target.value),H.test(e.target.value)?$(!1):$(!0)},id:"",required:!0,placeholder:"Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Y&&(0,v.jsx)("i",{className:"text-red-500 text-sm",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"}),(0,v.jsx)("input",{className:"outline-none border p-3 my-3 rounded-md w-full  focus:border-sky-500",type:"password",name:"password",value:z,onChange:function(e){B(e.target.value)},id:"",required:!0,placeholder:"M\u1eadt kh\u1ea9u"}),(0,v.jsx)("input",{className:"outline-none border p-3 my-3 rounded-md w-full  focus:border-sky-500",type:"password",name:"password",value:J,onChange:function(e){K(e.target.value)},id:"",required:!0,placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}),(0,v.jsxs)("div",{className:"flex flex-col items-center w-full gap-4",children:[(0,v.jsxs)("div",{className:"text-[14px] py-[8px]",children:[" ",(0,v.jsx)("input",{type:"checkbox",name:"T\xf4i \u0111\u1ed3ng \xfd v\u1edbi \u0111i\u1ec1u kho\u1ea3n",id:"",onChange:function(e){return T(e.target.checked)}})," ",(0,v.jsxs)("span",{children:["T\xf4i \u0111\u1ed3ng \xfd v\u1edbi ",(0,v.jsx)("span",{className:"text-[#3592FC]",children:"\u0111i\u1ec1u kho\u1ea3n d\u1ecbch v\u1ee5"})]})]}),(0,v.jsx)("div",{id:"recaptcha-container"}),V?(0,v.jsx)("button",{type:"button",disabled:!0,className:"bg-[#0763c5] opacity-[0.8] text-[22px] font-bold text-white py-[6.4px] px-[15px] rounded-xl w-5/6 transition duration-150  hover:opacity-[0.6] ",children:(0,v.jsx)(u.Z,{})}):(0,v.jsx)("button",{type:"submit",className:"bg-[#0763c5] opacity-[0.8] text-[22px] font-bold text-white py-[6.4px] px-[15px] rounded-xl w-5/6 transition duration-150  hover:opacity-[0.6] ",children:"\u0110\u0103ng k\xfd"}),(0,v.jsxs)("p",{style:{color:"#74788d"},children:["\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u t\u1eeb 6 - 20 k\xfd t\u1ef1",(0,v.jsx)("br",{}),"V\xed d\u1ee5:",(0,v.jsx)("br",{}),"M\u1eadt kh\u1ea9u : 123456"]}),(0,v.jsx)("div",{className:"text-[#74788d] text-[14px] py-[3px] w-full ml-[30%]"}),(0,v.jsxs)("p",{className:"py-3 text-[14px] ",children:["\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n ?",(0,v.jsx)("a",{href:"/login",children:(0,v.jsx)("b",{style:{color:"rgb(7,99,197)"},children:"\u0110\u0103ng nh\u1eadp ngay"})})]})]})]})})})})]})}},4758:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(8489),a=n(3641),o=n.n(a),u=n(2791),i=function(e){return"object"===typeof e&&null!==e},s=function(e){var t=e.value,n=void 0===t?"":t,r=e.numInputs,a=void 0===r?4:r,o=e.onChange,s=e.onPaste,c=e.renderInput,l=e.shouldAutoFocus,d=void 0!==l&&l,p=e.inputType,f=void 0===p?"text":p,m=e.renderSeparator,x=e.placeholder,h=e.containerStyle,v=e.inputStyle,g=e.skipDefaultStyles,b=void 0!==g&&g,y=u.useState(0),j=y[0],w=y[1],k=u.useRef([]),N=function(){return n?n.toString().split(""):[]},Z="number"===f||"tel"===f;u.useEffect((function(){k.current=k.current.slice(0,a)}),[a]),u.useEffect((function(){var e;d&&(null===(e=k.current[0])||void 0===e||e.focus())}),[d]);var S=function(){if("string"===typeof x){if(x.length===a)return x;x.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},C=function(e){return(Z?!isNaN(Number(e)):"string"===typeof e)&&1===e.trim().length},D=function(e){var t=e.target.value;C(t)&&(V(t),A(j+1))},P=function(e){var t=e.nativeEvent;C(e.target.value)||(null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),V(""),A(j-1)),e.target.value="")},T=function(){w(j-1)},I=function(e){var t=N();[e.code,e.key].includes("Backspace")?(e.preventDefault(),V(""),A(j-1)):"Delete"===e.code?(e.preventDefault(),V("")):"ArrowLeft"===e.code?(e.preventDefault(),A(j-1)):"ArrowRight"===e.code||e.key===t[j]?(e.preventDefault(),A(j+1)):"Spacebar"!==e.code&&"Space"!==e.code&&"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.preventDefault()},A=function(e){var t,n,r=Math.max(Math.min(a-1,e),0);k.current[r]&&(null===(t=k.current[r])||void 0===t||t.focus(),null===(n=k.current[r])||void 0===n||n.select(),w(r))},V=function(e){var t=N();t[j]=e[0],M(t)},M=function(e){var t=e.join("");o(t)},L=function(e){var t;e.preventDefault();var n=N(),r=j,o=e.clipboardData.getData("text/plain").slice(0,a-j).split("");if(!Z||!o.some((function(e){return isNaN(Number(e))}))){for(var u=0;u<a;++u)u>=j&&o.length>0&&(n[u]=null!==(t=o.shift())&&void 0!==t?t:"",r++);A(r),M(n)}};return u.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},i(h)&&h),className:"string"===typeof h?h:void 0,onPaste:s},Array.from({length:a},(function(e,t){return t})).map((function(e){var t,n,r;return u.createElement(u.Fragment,{key:e},c({value:null!==(t=N()[e])&&void 0!==t?t:"",placeholder:null!==(r=null===(n=S())||void 0===n?void 0:n[e])&&void 0!==r?r:void 0,ref:function(t){return k.current[e]=t},onChange:D,onFocus:function(t){return function(e){return function(t){w(t),e.target.select()}}(t)(e)},onBlur:T,onKeyDown:I,onPaste:L,autoComplete:"off",maxLength:1,"aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(b?{}:{width:"1em",textAlign:"center"},i(v)?v:{}),className:"string"===typeof v?v:void 0,type:f,inputMode:Z?"numeric":"text",onInput:P},e),e<a-1&&("function"===typeof m?m(e):m))})))},c=n(3539),l=n(43),d=n(184);function p(e){var t=e.value,n=e.onChange,a=e.isLoading,u=e.handleVerifyOTP;return(0,d.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[(0,d.jsx)("div",{className:"flex justify-center items-center p-4 rounded-full border-4 border-primary",children:(0,d.jsx)(o(),{className:"text-primary text-[40px]",name:"shield"})}),(0,d.jsx)("h1",{className:"font-medium text-primary text-2xl",children:"Vui l\xf2ng nh\u1eadp m\xe3 OTP"}),(0,d.jsx)("div",{className:"w-full",children:(0,d.jsx)(s,{value:t,onChange:n,containerStyle:{display:"flex",justifyContent:"center",gap:"0.25rem",width:"100%"},numInputs:6,renderSeparator:(0,d.jsx)("span",{className:""}),renderInput:function(e){return(0,d.jsx)("input",(0,r.Z)((0,r.Z)({},e),{},{type:"text",style:{width:"2em"},className:"border-2 border-primary text-[24px] font-medium h-[3rem] text-center rounded-md outline-none "}))}})}),(0,d.jsxs)(c.Z,{kind:"primary",className:"font-semibold flex items-center gap-4 w-full max-w-[20.5rem] py-3 border-2 border-transparent hover:bg-white  ".concat(a?"bg-white border-primary ":"hover:border-primary  duration-150 hover:text-primary"),disabled:a,onClick:u,children:[(0,d.jsx)("span",{className:"".concat(a&&"text-primary"),children:"X\xe1c nh\u1eadn"}),a&&(0,d.jsx)(l.Z,{})]})]})}}}]);
//# sourceMappingURL=162.6eff8187.chunk.js.map